# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ /start –≤ –±–æ—Ç–µ

## –ü—Ä–æ–±–ª–µ–º–∞

–°–µ–π—á–∞—Å –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä–æ–µ –º–µ–Ω—é –ø—Ä–∏ `/start`. –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, —á—Ç–æ–±—ã –æ–Ω –æ—Ç–∫—Ä—ã–≤–∞–ª –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

## –†–µ—à–µ–Ω–∏–µ

–ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã `/start` –≤ –±–æ—Ç–µ, —á—Ç–æ–±—ã –æ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è–ª –∫–Ω–æ–ø–∫—É —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

## –ö–æ–¥ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ù–∞–π–¥–∏—Ç–µ —Ñ–∞–π–ª —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º `/start` –≤ –±–æ—Ç–µ (–æ–±—ã—á–Ω–æ —ç—Ç–æ `handlers/start.py` –∏–ª–∏ `commands/start.py` –∏–ª–∏ –≤ –≥–ª–∞–≤–Ω–æ–º —Ñ–∞–π–ª–µ –±–æ—Ç–∞).

### –°—Ç–∞—Ä—ã–π –∫–æ–¥ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é):
```python
async def start_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    # ... –∫–æ–¥ —Å –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞ –∏–≥—Ä—ã ...
```

### –ù–æ–≤—ã–π –∫–æ–¥ (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å):
```python
from telegram import InlineKeyboardButton, InlineKeyboardMarkup

async def start_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å"""
    user = update.effective_user
    telegram_id = user.id
    
    # URL –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å telegram_id
    # –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_SERVER_IP –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π IP –∏–ª–∏ –¥–æ–º–µ–Ω
    web_url = f"http://193.42.127.176/?telegram_id={telegram_id}"
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    keyboard = [
        [InlineKeyboardButton("üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É", url=web_url)]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await context.bot.send_message(
        chat_id=update.effective_chat.id,
        text="–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Brain Survivor! üß†\n\n–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –∏–≥—Ä—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ.",
        reply_markup=reply_markup
    )
```

## –ì–¥–µ –Ω–∞–π—Ç–∏ –∫–æ–¥ –±–æ—Ç–∞

–ö–æ–¥ –±–æ—Ç–∞ –æ–±—ã—á–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤:
- `trivia-bot/` (–æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
- –ò–ª–∏ –≤ `../trivia-bot/` –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ `trivia-web/`

## –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

1. **–ù–∞–π–¥–∏—Ç–µ —Ñ–∞–π–ª —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º `/start`**:
   ```bash
   # –í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –±–æ—Ç–∞
   grep -r "def start" . --include="*.py"
   # –∏–ª–∏
   grep -r "/start" . --include="*.py"
   ```

2. **–ó–∞–º–µ–Ω–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫** –Ω–∞ –∫–æ–¥ –≤—ã—à–µ

3. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ IP –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π**:
   - –ó–∞–º–µ–Ω–∏—Ç–µ `193.42.127.176` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π IP/–¥–æ–º–µ–Ω
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:
     ```python
     import os
     WEB_URL = os.getenv("WEB_URL", "http://193.42.127.176")
     web_url = f"{WEB_URL}/?telegram_id={telegram_id}"
     ```

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞**:
   ```bash
   # –ï—Å–ª–∏ –±–æ—Ç –≤ Docker
   sudo docker compose restart bot
   
   # –ò–ª–∏ –µ—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞–ø—Ä—è–º—É—é
   # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
   ```

## –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
1. –ù–∞–∂–º–∏—Ç–µ `/start` –≤ –±–æ—Ç–µ
2. –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ "üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É"
3. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≤—ã–±–æ—Ä–æ–º —Ç–∏–ø–∞ –∏–≥—Ä—ã

## –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ä–æ–µ –º–µ–Ω—é –¥–ª—è –¥—Ä—É–≥–∏—Ö –∫–æ–º–∞–Ω–¥

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–µ–Ω—é, –º–æ–∂–Ω–æ:
- –û—Å—Ç–∞–≤–∏—Ç—å —Å—Ç–∞—Ä–æ–µ –º–µ–Ω—é –¥–ª—è –¥—Ä—É–≥–∏—Ö –∫–æ–º–∞–Ω–¥
- –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É `/menu` –¥–ª—è —Å—Ç–∞—Ä–æ–≥–æ –º–µ–Ω—é
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å callback handlers –¥–ª—è –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—é

## –ü—Ä–∏–º–µ—Ä —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å—Ç–∞—Ä–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞ —á–µ—Ä–µ–∑ –±–æ—Ç–∞:

```python
async def start_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å"""
    user = update.effective_user
    telegram_id = user.id
    web_url = f"http://193.42.127.176/?telegram_id={telegram_id}"
    
    keyboard = [
        [InlineKeyboardButton("üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É", url=web_url)]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await context.bot.send_message(
        chat_id=update.effective_chat.id,
        text="–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Brain Survivor! üß†\n\n–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –∏–≥—Ä—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ.",
        reply_markup=reply_markup
    )

# –°—Ç–∞—Ä–æ–µ –º–µ–Ω—é –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –∫–æ–º–∞–Ω–¥—ã /menu
async def menu_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    # ... —Å—Ç–∞—Ä–æ–µ –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞ ...
    pass
```
